<!DOCTYPE html>
<html>

<head>
    <title>Move Brick</title>
    <link href="./style.css" rel="stylesheet">
</head>

<body>
    <canvas id="canv"></canvas>
    <script src="Utilities.js"></script>
    <script src="Time.js"></script>
    <script src="Component.js"></script>
    <script src="GameObject.js"></script>
    <script src="PlayerDrawComponent.js"></script>
    <script src="PlayerUpdateComponent.js"></script>
    <script src="PlayerGameObject.js"></script>
    <script>
        "use strict"

        //setup the canvas
        let { canvas, ctx } = getCanvas()
        let gameObjects = []

        let test = canvas.width

        //define the model
        let x = 100
        let y = 100
        let w = 50
        let h = 50
        let leftBoundary = 0
        let rightBoundary = canvas.width
        let topBoundary = 0
        let bottomBoundary = canvas.height

        //check for arrow key input
        document.addEventListener("keydown", (e) => detectKeyDown(e))
        document.addEventListener("keyup", (e) => detectKeyUp(e))
        //let keyType = event.keyCode
        let leftArrowPress = false
        let rightArrowPress = false
        let upArrowPress = false
        let downArrowPress = false

        //create new player
        let player = new PlayerGameObject(x, y, w, h)
        gameObjects.push(player)


        function draw() {
            //draw background
            ctx.fillStyle = "grey"
            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height)

            //draw rectangle
            player.draw()

        }

        function update() {
            player.update()
        }

        function tick() {
            update()
            draw()
            Time.timePassed += Time.secondsBetweenFrame
        }


        //run it
        setInterval(tick, Time.millisecondsBetweenFrames)

    </script>


</body>